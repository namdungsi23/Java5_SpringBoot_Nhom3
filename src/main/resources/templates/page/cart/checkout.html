<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/main-content}">
	  
	<div layout:fragment="content" class="container my-4">
		<h2 class="mb-2">Thanh toán</h2>
		
		<!-- Thông tin giỏ hàng -->
		<div class="card mb-4">
			<div class="card-header fw-bold">Thông tin giỏ hàng</div>
		</div>
		
		<div class="card-body p-0">
			<table class="table table-bordered mb-0 text-center align-middle">
				<thead class="table-light">
					<tr>
	                    <th>Sản phẩm</th>
	                    <th>Giá</th>
	                    <th>Số lượng</th>
	                    <th>Tạm tính</th>
	                 </tr>
				</thead>
				<tbody>
					<tr th:each="item : ${cartItems}">
						<td th:text="${item.name}"></td>
	                    <td th:text="${#numbers.formatDecimal(item.price,0,'COMMA',0,'POINT')} + ' đ'"></td>
	                    <td th:text="${item.quantity}"></td>
	                    <td class="fw-bold text-danger"
	                        th:text="${#numbers.formatDecimal(item.price * item.quantity,0,'COMMA',0,'POINT')} + ' đ'">
	                    </td>
					</tr>
				</tbody>
			</table>
			
			<div class="card-footer text-end fw-bold fs-5 my-4">
				Tổng tiền: 
				<span class="text-danger"
					  th:text="${#numbers.formatDecimal(amount,0,'COMMA',0,'POINT')}"></span>
			</div>
		</div>
		
		<!-- Phương thức thanh toán -->
		<form th:action="@{/checkout/pay}" method="post">
			<div class="card mb-4">
				<div class="card-header fw-bold">Phương thức thanh toán</div>
			</div>
			
			<div class="card-body">
				<div class="form-check mb-2">
					<input  id="cash"
							class="form-check-input" 
							type="radio"
							name="paymentMethod" 
							value="CASH" checked>
					<label for="cash" class="form-check-label">Thanh toán khi nhận hàng</label>
				</div>
				
				<div class="form-check mb-2">
			        <input  id="momo"
			        		class="form-check-input" 
			        		type="radio"
			               name="paymentMethod" 
			               value="MOMO">
			        <label for="momo" class="form-check-label"> Ví điện tử MOMO</label>
			    </div>
			    
			    <div class="form-check">
			        <input  id="techcombank"
			        		class="form-check-input" 
			        		type="radio"
			                name="paymentMethod" 
			                value="TECHCOMBANK">
			        <label for="techcombank" class="form-check-label"> Chuyển khoản Techcombank</label>
			    </div>
			</div>
			
			<button class="btn btn-primary mt-3">
		        Tiếp tục thanh toán
		    </button>
		    
		</form>
	
	</div>
</html>

