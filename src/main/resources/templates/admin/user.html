<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/Admin-content}">
<head>
<meta charset="UTF-8">
<title>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</title>


</head>

<body>

	<div layout:fragment="main-content">

		<div class="container-fluid">

			<!-- TITLE -->
			<h3 class="mb-4">üë§ Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h3>

			<form class="d-flex mb-5 p-3 bg-light rounded shadow-sm" method="get"
				th:action="@{/admin/user}">

				<input type="text" name="keyword"
					class="form-control form-control-lg me-2 border-primary"
					placeholder="üîç T√¨m username ho·∫∑c h·ªç t√™n" th:value="${keyword}">

				<button class="btn btn-primary btn-lg px-4">T√¨m ki·∫øm</button>
			</form>

			<div class="row">

				<!-- ================= FORM ================= -->
				<div class="col-md-4">
					<div class="card shadow-sm">
						<div class="card-header bg-primary text-white">Th√¥ng tin
							ng∆∞·ªùi d√πng</div>

						<div class="card-body">

							<form th:action="@{/admin/user/save}" th:object="${user}"
								method="post">

								<div class="mb-3">
									<label class="form-label">T√™n ƒëƒÉng nh·∫≠p</label> <input
										type="text" th:field="*{username}" class="form-control"
										placeholder="Nh·∫≠p username" required>
								</div>

								<div class="mb-3">
									<label class="form-label">M·∫≠t kh·∫©u</label> <input
										type="password" th:field="*{password}" class="form-control"
										placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
								</div>

								<div class="mb-3">
									<label class="form-label">H·ªç t√™n</label> <input type="text"
										th:field="*{fullname}" class="form-control"
										placeholder="Nh·∫≠p h·ªç t√™n">
								</div>

								<div class="mb-3">
									<label class="form-label">Email</label> <input type="email"
										th:field="*{email}" class="form-control"
										placeholder="example@gmail.com">
								</div>

								<div class="form-check mb-2">
									<input class="form-check-input" type="checkbox"
										th:field="*{admin}"> <label class="form-check-label">
										Quy·ªÅn qu·∫£n tr·ªã (Admin) </label>
								</div>

								<div class="form-check mb-3">
									<input class="form-check-input" type="checkbox"
										th:field="*{activated}"> <label
										class="form-check-label"> K√≠ch ho·∫°t t√†i kho·∫£n </label>
								</div>

								<div class="d-flex gap-2">
									<button class="btn btn-success w-100">üíæ L∆∞u</button>
									<a th:href="@{/admin/user}" class="btn btn-secondary w-100">
										üîÑ L√†m m·ªõi </a>
								</div>

							</form>
						</div>
					</div>
				</div>

				<!-- ================= TABLE ================= -->
				<div class="col-md-8">
					<div class="card shadow-sm">
						<div class="card-header bg-dark text-white">Danh s√°ch ng∆∞·ªùi
							d√πng</div>

						<div class="card-body table-responsive">
							<table class="table table-bordered table-hover align-middle">
								<thead class="table-light">
									<tr>
										<th>Username</th>
										<th>H·ªç t√™n</th>
										<th>Email</th>
										<th>Quy·ªÅn</th>
										<th>Tr·∫°ng th√°i</th>
										<th class="text-center">H√†nh ƒë·ªông</th>
									</tr>
								</thead>

								<tbody>
									<tr th:each="u : ${users}">
										<td th:text="${u.username}"></td>
										<td th:text="${u.fullname}"></td>
										<td th:text="${u.email}"></td>

										<td><span th:if="${u.admin}" class="badge bg-success">Admin</span>
											<span th:if="${!u.admin}" class="badge bg-secondary">User</span>
										</td>

										<td><span th:if="${u.activated}" class="badge bg-primary">Ho·∫°t
												ƒë·ªông</span> <span th:if="${!u.activated}" class="badge bg-danger">Kh√≥a</span>
										</td>

										<td class="text-center"><a
											th:href="@{/admin/user/edit/{u}(u=${u.username})}"
											class="btn btn-sm btn-warning"> ‚úèÔ∏è </a> <a
											th:href="@{/admin/user/delete/{u}(u=${u.username})}"
											class="btn btn-sm btn-danger"
											onclick="return confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën x√≥a?')"> üóëÔ∏è
										</a></td>
									</tr>
								</tbody>

							</table>
							<nav>
								<ul class="pagination justify-content-center">

									<!-- Previous -->
									<li class="page-item"
										th:classappend="${pages.first} ? 'disabled'"><a
										class="page-link"
										th:href="@{/admin/user(page=${pages.number - 1}, keyword=${keyword})}">
											¬´ </a></li>

									<!-- Page numbers -->
									<li class="page-item"
										th:each="i : ${#numbers.sequence(0, pages.totalPages - 1)}"
										th:classappend="${i == pages.number} ? 'active'"><a
										class="page-link" th:text="${i + 1}"
										th:href="@{/admin/user(page=${i}, keyword=${keyword})}"> </a>
									</li>

									<!-- Next -->
									<li class="page-item"
										th:classappend="${pages.last} ? 'disabled'"><a
										class="page-link"
										th:href="@{/admin/user(page=${pages.number + 1}, keyword=${keyword})}">
											¬ª </a></li>

								</ul>
							</nav>
						</div>
					</div>
				</div>

			</div>
		</div>

	</div>

</body>
</html>
