<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/Admin-content}">
<head>
<meta charset="UTF-8">
<title>Quáº£n lÃ½ danh má»¥c</title>
</head>

<body>
	<div layout:fragment="main-content">
		<div class="container-fluid px-4 mt-4">

			<!-- ===== TITLE ===== -->
			<div class="d-flex justify-content-between align-items-center mb-4">
				<h4 class="fw-bold mb-0">ğŸ“‚ Quáº£n lÃ½ danh má»¥c</h4>
			</div>
			<form class="row g-2 mb-3" method="get"
				th:action="@{/admin/category}">
				<div class="col-md-6">
					<input type="text" name="keyword" th:value="${keyword}"
						class="form-control" placeholder="ğŸ” TÃ¬m theo tÃªn danh má»¥c">
				</div>

				<div class="col-md-3">
					<select name="size" class="form-select"
						onchange="this.form.submit()">
						<option value="all"
							th:selected="${param.size == null || param.size == 'all'}">
							Táº¥t cáº£ danh má»¥c</option>

						<option value="3" th:selected="${param.size == '3'}">3
							dÃ²ng</option>
						<option value="10" th:selected="${param.size == '10'}">10
							dÃ²ng</option>
						<option value="12" th:selected="${param.size == '12'}">12
							dÃ²ng</option>
					</select>
				</div>


				<div class="col-md-3">
					<button class="btn btn-primary w-100">ğŸ” TÃ¬m kiáº¿m</button>
				</div>
			</form>

			<div class="row g-4">

				<!-- ===== FORM ===== -->
				<div class="col-lg-4">
					<div class="card shadow border-0">
						<div class="card-header"
							th:classappend="${category.id == null ? 'bg-primary' : 'bg-warning text-dark'}">
							<strong
								th:text="${category.id == null ? 'â• ThÃªm danh má»¥c' : 'âœï¸ Cáº­p nháº­t danh má»¥c'}">
							</strong>
						</div>

						<div class="card-body">
							<form th:object="${category}"
								th:action="${category.id == null} ? @{/admin/category/create} : @{/admin/category/update}"
								method="post">

								<input type="hidden" th:field="*{id}">

								<div class="mb-3">
									<label class="form-label fw-semibold">TÃªn danh má»¥c</label> <input
										type="text" th:field="*{name}" class="form-control"
										placeholder="Nháº­p tÃªn danh má»¥c" required>
								</div>

								<button class="btn btn-success w-100 fw-semibold">ğŸ’¾
									LÆ°u danh má»¥c</button>
							</form>
						</div>
					</div>
				</div>

				<!-- ===== TABLE ===== -->
				<div class="col-lg-8">
					<div class="card shadow border-0">
						<div class="card-header bg-dark text-white fw-semibold">ğŸ“‹
							Danh sÃ¡ch danh má»¥c</div>

						<div class="card-body p-0">
							<table class="table table-hover align-middle mb-0">
								<thead class="table-light">
									<tr>
										<th style="width: 80px">ID</th>
										<th>TÃªn danh má»¥c</th>
										<th style="width: 160px">HÃ nh Ä‘á»™ng</th>
									</tr>
								</thead>

								<tbody>
									<tr th:each="c : ${categories}">
										<td th:text="${c.id}"></td>
										<td class="fw-semibold" th:text="${c.name}"></td>
										<td><a th:href="@{/admin/category/edit/{id}(id=${c.id})}"
											class="btn btn-sm btn-outline-warning me-1"> âœï¸ Sá»­a </a> <a
											th:href="@{/admin/category/delete/{id}(id=${c.id})}"
											class="btn btn-sm btn-outline-danger"
											onclick="return confirm('XÃ³a danh má»¥c nÃ y?')"> ğŸ—‘ XÃ³a </a></td>
									</tr>

									<tr th:if="${#lists.isEmpty(categories)}">
										<td colspan="3" class="text-center text-muted py-4">
											KhÃ´ng cÃ³ danh má»¥c nÃ o</td>
									</tr>
								</tbody>
							</table>
							<nav th:if="${totalPages > 1}">
								<ul class="pagination justify-content-center mt-3">

									<li class="page-item"
										th:classappend="${currentPage == 0 ? 'disabled' : ''}"><a
										class="page-link"
										th:href="@{/admin/category(page=${currentPage - 1}, keyword=${keyword})}">
											â€¹ </a></li>

									<li class="page-item"
										th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
										th:classappend="${i == currentPage ? 'active' : ''}"><a
										class="page-link" th:text="${i + 1}"
										th:href="@{/admin/category(page=${i}, keyword=${keyword})}">
									</a></li>

									<li class="page-item"
										th:classappend="${currentPage + 1 == totalPages ? 'disabled' : ''}">
										<a class="page-link"
										th:href="@{/admin/category(page=${currentPage + 1}, keyword=${keyword})}">
											â€º </a>
									</li>

								</ul>
							</nav>

						</div>

					</div>
				</div>

			</div>
		</div>
	</div>
</body>
</html>
